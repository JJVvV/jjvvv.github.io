var searchFunc=function(t,i,l){$.ajax({url:t,dataType:"xml",success:function(t){var r=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("link",this).attr("href")}}).get(),e=document.getElementById(i);if(e){var n=document.getElementById(l);e.addEventListener("input",function(){var p=[],h=function(t){var e,r,n=[];for(e=0;e<t.length;e++)for(r=e+1;r<t.length+1;r++)n.push(t.slice(e,r).join(" "));return n}(this.value.trim().toLowerCase().split(" ")).sort(function(t,e){return e.split(" ").length-t.split(" ").length});if(n.innerHTML="",!(this.value.trim().length<=0)){r.forEach(function(t){var e=0;t.title&&""!==t.title.trim()||(t.title="Untitled");var r=t.title.trim().toLowerCase(),n=function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/<style([\s\S]*?)<\/style>/gi,"")).replace(/<script([\s\S]*?)<\/script>/gi,"")).replace(/<figure([\s\S]*?)<\/figure>/gi,"")).replace(/<\/div>/gi,"\n")).replace(/<\/li>/gi,"\n")).replace(/<li>/gi,"  *  ")).replace(/<\/ul>/gi,"\n")).replace(/<\/p>/gi,"\n")).replace(/<br\s*[\/]?>/gi,"\n")).replace(/<[^>]+>/gi,"")}(t.content.trim()),i=t.url,l=-1,s=-1,a=-1;if(""!==n&&h.forEach(function(t){l=r.indexOf(t),s=n.indexOf(t),(0<=l||0<=s)&&(e+=1,s<0&&(s=0),a<0&&(a=s))}),0<e){var c={};if(c.rank=e,c.str="<li><a href='"+i+"' class='search-result-title'>"+r+"</a>",0<=a){var u=a-20,o=a+80;u<0&&(u=0),0==u&&(o=100),o>n.length&&(o=n.length);var f=n.substr(u,o),g=new RegExp(h.join("|"),"gi");f=f.replace(g,function(t){return'<em class="search-keyword">'+t+"</em>"}),c.str+='<p class="search-result">'+f+"...</p>"}c.str+="</li>",p.push(c)}}),p.sort(function(t,e){return e.rank-t.rank});for(var t='<ul class="search-result-list">',e=0;e<p.length;e++)t+=p[e].str;t+="</ul>",n.innerHTML=t}})}}})};